#+TITLE: Npm Note
#+hugo_base_dir: /home/awannaphasch2016/org/projects/sideprojects/website/my-website/hugo/quickstart
#+filetags: npm


* Blog :blog:
** TODO NPM runtime error :error:debug:


At the time of writing (=February 6, 2022=), npm fail to run with the following error.
#+BEGIN_SRC org :noeval
npm does not support Node.js v10.19.0
You should probably upgrade to a newer version of node as we
can't make any promises that npm will work with this version.
You can find the latest version at https://nodejs.org/
/usr/local/lib/node_modules/npm/lib/npm.js:32
  #unloaded = false
  ^

SyntaxError: Invalid or unexpected token
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at module.exports (/usr/local/lib/node_modules/npm/lib/cli.js:22:15)
    at Object.<anonymous> (/usr/local/lib/node_modules/npm/bin/npm-cli.js:2:25)
    at Module._compile (internal/modules/cjs/loader.js:778:30)

#+END_SRC


#+RESULTS:

#+BEGIN_SRC org
#+END_SRC

#+BEGIN_SRC sh :noeval
which npm
#+END_SRC
** NPM environment conflict when Conda is not fully deactivate its environment :debug:
By default Conda activate =base= environment, this default behavior change value of environment variables. One of the variable is =HOST= whose value is set to =x86_64-conda-linux-gnu= in respond.

You can deactivate =base= environment with ~conda deactivate~. Doing so will change =HOST= variable's value to =[name-of-your-desktop]=, in my case it is =DESKTOP-5MMF71L=.

To change environment variable locally, ReactJS documentation suggests that I can put project's local environment variables to =.env=. I put the following in =.env=.
#+BEGIN_SRC env
HOST=localhost
#+END_SRC
Unfortunately, running ~npm start~ doesn't detect local environment variables specified in =.env=.
